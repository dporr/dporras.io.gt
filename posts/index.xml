<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on The Art of hacking - blog</title><link>http://aleph.theartofhacking.club/posts/</link><description>Recent content in Posts on The Art of hacking - blog</description><generator>Hugo</generator><language>en-us</language><atom:link href="http://aleph.theartofhacking.club/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Build u-boot with trusted firmware for STM32</title><link>http://aleph.theartofhacking.club/posts/embedded_notes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://aleph.theartofhacking.club/posts/embedded_notes/</guid><description>&lt;h4 id="tldr">TL;DR&lt;/h4>
&lt;p>This is a dumbed-down summary of different documentation pieces on u-boot, trusted firmware and STM.
I use this to play around on a local STM board.&lt;/p>
&lt;h3 id="compile-u-boot">Compile U-Boot&lt;/h3>
&lt;p>Docs [1] &lt;a href="https://docs.u-boot.org/en/latest/board/st/index.html">https://docs.u-boot.org/en/latest/board/st/index.html&lt;/a>&lt;/p>
&lt;ul>
&lt;li>Chose a config from the supported boards under &lt;code>configs/&lt;/code>, in our case &lt;code>configs/stm32mp15_defconfig&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>make stm32mp15_defconfig
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>optional customize u-boot features&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>make menuconfig
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>chose a device tree from &lt;code>dts/upstream/src/&amp;lt;ARCH&amp;gt;/&amp;lt;VENDOR&amp;gt;/&amp;lt;BOARD&amp;gt;&lt;/code> in our case &lt;code>stm32mp157a-dk1&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>make DEVICE_TREE&lt;span style="color:#f92672">=&lt;/span>stm32mp157a-dk1 -j &lt;span style="color:#66d9ef">$(&lt;/span>nproc&lt;span style="color:#66d9ef">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="compiling-tf-a">Compiling TF-A&lt;/h3>
&lt;p>From TF-A documentation for STM32MP1 [1]&lt;/p></description></item></channel></rss>